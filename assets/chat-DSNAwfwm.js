import{a as te,b as A,s as ne}from"./helpers-Bvq9V0xt.js";const P={HEADER_MIDDLE_BLOCK:document.querySelector(".middle-block"),CHAT_SECTION:document.querySelector(".chat-section"),MESSAGES_LIST_EL:document.querySelector(".messages-list"),SUBMIT_MESSAGE_BTN:document.querySelector(".submit-btn"),CHAT_INPUT:document.querySelector(".form-input")};function y(e){const r=document.createElement("div"),t=document.createElement("span");e.owner==="me"?r.classList.add("message","own-message"):r.classList.add("message","another-persons-message"),t.classList.add("time-message"),r.textContent=`${e.text}`,t.textContent=`${te(e.date)}`,r.appendChild(t),P.MESSAGES_LIST_EL.appendChild(r)}function ae(e){if(e.trim()==="")return;const r={text:e,date:new Date().toISOString(),owner:"me"},t=JSON.parse(localStorage.getItem("users"))||[],u=Number(A("user")),o=t.findIndex(f=>f.id==u);t[o].messages.push(r),localStorage.setItem("users",JSON.stringify(t)),y(r)}var W={},S={};Object.defineProperty(S,"__esModule",{value:!0});S.FORMAT_PLAIN=S.FORMAT_HTML=S.FORMATS=void 0;var k="html";S.FORMAT_HTML=k;var C="plain";S.FORMAT_PLAIN=C;var ie=[k,C];S.FORMATS=ie;var v={};Object.defineProperty(v,"__esModule",{value:!0});v.UNIT_WORDS=v.UNIT_WORD=v.UNIT_SENTENCES=v.UNIT_SENTENCE=v.UNIT_PARAGRAPHS=v.UNIT_PARAGRAPH=v.UNITS=void 0;var F="words";v.UNIT_WORDS=F;var x="word";v.UNIT_WORD=x;var B="sentences";v.UNIT_SENTENCES=B;var G="sentence";v.UNIT_SENTENCE=G;var H="paragraphs";v.UNIT_PARAGRAPHS=H;var $="paragraph";v.UNIT_PARAGRAPH=$;var oe=[F,x,B,G,H,$];v.UNITS=oe;var N={};Object.defineProperty(N,"__esModule",{value:!0});N.WORDS=void 0;var ue=["ad","adipisicing","aliqua","aliquip","amet","anim","aute","cillum","commodo","consectetur","consequat","culpa","cupidatat","deserunt","do","dolor","dolore","duis","ea","eiusmod","elit","enim","esse","est","et","eu","ex","excepteur","exercitation","fugiat","id","in","incididunt","ipsum","irure","labore","laboris","laborum","Lorem","magna","minim","mollit","nisi","non","nostrud","nulla","occaecat","officia","pariatur","proident","qui","quis","reprehenderit","sint","sit","sunt","tempor","ullamco","ut","velit","veniam","voluptate"];N.WORDS=ue;var q={},I={};Object.defineProperty(I,"__esModule",{value:!0});I.LINE_ENDINGS=void 0;var se={POSIX:`
`,WIN32:`\r
`};I.LINE_ENDINGS=se;var j={},w={},z={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=function(o){var f=o.trim();return f.charAt(0).toUpperCase()+f.slice(1)},t=r;e.default=t})(z);var E={exports:{}};(function(e,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var t=function(){return!!e.exports},u=t;r.default=u})(E,E.exports);var de=E.exports,J={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=function(){var o=!1;try{o=navigator.product==="ReactNative"}catch{o=!1}return o},t=r;e.default=t})(J);var X={},R={};Object.defineProperty(R,"__esModule",{value:!0});R.SUPPORTED_PLATFORMS=void 0;var ce={DARWIN:"darwin",LINUX:"linux",WIN32:"win32"};R.SUPPORTED_PLATFORMS=ce;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=R,t=function(){var f=!1;try{f=process.platform===r.SUPPORTED_PLATFORMS.WIN32}catch{f=!1}return f},u=t;e.default=u})(X);var L={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return Array.apply(null,Array(o)).map(function(f,_){return _})},t=r;e.default=t})(L);var K={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=t(L);function t(f){return f&&f.__esModule?f:{default:f}}var u=function(_,g){var d=(0,r.default)(_);return d.map(function(){return g()})},o=u;e.default=o})(K);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"capitalize",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(e,"isNode",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"isReactNative",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(e,"isWindows",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(e,"makeArrayOfLength",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(e,"makeArrayOfStrings",{enumerable:!0,get:function(){return _.default}});var r=g(z),t=g(de),u=g(J),o=g(X),f=g(L),_=g(K);function g(d){return d&&d.__esModule?d:{default:d}}})(w);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=N,t=w;function u(m,s){if(!(m instanceof s))throw new TypeError("Cannot call a class as a function")}function o(m,s){for(var c=0;c<s.length;c++){var n=s[c];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(m,n.key,n)}}function f(m,s,c){return s&&o(m.prototype,s),Object.defineProperty(m,"prototype",{writable:!1}),m}function _(m,s,c){return s in m?Object.defineProperty(m,s,{value:c,enumerable:!0,configurable:!0,writable:!0}):m[s]=c,m}var g=function(){function m(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},c=s.sentencesPerParagraph,n=c===void 0?{max:7,min:3}:c,i=s.wordsPerSentence,a=i===void 0?{max:15,min:5}:i,l=s.random;s.seed;var p=s.words,h=p===void 0?r.WORDS:p;if(u(this,m),_(this,"sentencesPerParagraph",void 0),_(this,"wordsPerSentence",void 0),_(this,"random",void 0),_(this,"words",void 0),n.min>n.max)throw new Error("Minimum number of sentences per paragraph (".concat(n.min,") cannot exceed maximum (").concat(n.max,")."));if(a.min>a.max)throw new Error("Minimum number of words per sentence (".concat(a.min,") cannot exceed maximum (").concat(a.max,")."));this.sentencesPerParagraph=n,this.words=h,this.wordsPerSentence=a,this.random=l||Math.random}return f(m,[{key:"generateRandomInteger",value:function(c,n){return Math.floor(this.random()*(n-c+1)+c)}},{key:"generateRandomWords",value:function(c){var n=this,i=this.wordsPerSentence,a=i.min,l=i.max,p=c||this.generateRandomInteger(a,l);return(0,t.makeArrayOfLength)(p).reduce(function(h,O){return"".concat(n.pluckRandomWord()," ").concat(h)},"").trim()}},{key:"generateRandomSentence",value:function(c){return"".concat((0,t.capitalize)(this.generateRandomWords(c)),".")}},{key:"generateRandomParagraph",value:function(c){var n=this,i=this.sentencesPerParagraph,a=i.min,l=i.max,p=c||this.generateRandomInteger(a,l);return(0,t.makeArrayOfLength)(p).reduce(function(h,O){return"".concat(n.generateRandomSentence()," ").concat(h)},"").trim()}},{key:"pluckRandomWord",value:function(){var c=0,n=this.words.length-1,i=this.generateRandomInteger(c,n);return this.words[i]}}]),m}(),d=g;e.default=d})(j);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=S,t=I,u=f(j),o=w;function f(n){return n&&n.__esModule?n:{default:n}}function _(n,i){if(!(n instanceof i))throw new TypeError("Cannot call a class as a function")}function g(n,i){for(var a=0;a<i.length;a++){var l=i[a];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(n,l.key,l)}}function d(n,i,a){return i&&g(n.prototype,i),Object.defineProperty(n,"prototype",{writable:!1}),n}function m(n,i,a){return i in n?Object.defineProperty(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[i]=a,n}var s=function(){function n(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:r.FORMAT_PLAIN,l=arguments.length>2?arguments[2]:void 0;if(_(this,n),this.format=a,this.suffix=l,m(this,"generator",void 0),r.FORMATS.indexOf(a.toLowerCase())===-1)throw new Error("".concat(a," is an invalid format. Please use ").concat(r.FORMATS.join(" or "),"."));this.generator=new u.default(i)}return d(n,[{key:"getLineEnding",value:function(){return this.suffix?this.suffix:!(0,o.isReactNative)()&&(0,o.isNode)()&&(0,o.isWindows)()?t.LINE_ENDINGS.WIN32:t.LINE_ENDINGS.POSIX}},{key:"formatString",value:function(a){return this.format===r.FORMAT_HTML?"<p>".concat(a,"</p>"):a}},{key:"formatStrings",value:function(a){var l=this;return a.map(function(p){return l.formatString(p)})}},{key:"generateWords",value:function(a){return this.formatString(this.generator.generateRandomWords(a))}},{key:"generateSentences",value:function(a){return this.formatString(this.generator.generateRandomParagraph(a))}},{key:"generateParagraphs",value:function(a){var l=this.generator.generateRandomParagraph.bind(this.generator);return this.formatStrings((0,o.makeArrayOfStrings)(a,l)).join(this.getLineEnding())}}]),n}(),c=s;e.default=c})(q);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"LoremIpsum",{enumerable:!0,get:function(){return o.default}}),e.loremIpsum=void 0;var r=S,t=v,u=N,o=f(q);function f(g){return g&&g.__esModule?g:{default:g}}var _=function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},m=d.count,s=m===void 0?1:m,c=d.format,n=c===void 0?r.FORMAT_PLAIN:c,i=d.paragraphLowerBound,a=i===void 0?3:i,l=d.paragraphUpperBound,p=l===void 0?7:l,h=d.random,O=d.sentenceLowerBound,Q=O===void 0?5:O,M=d.sentenceUpperBound,V=M===void 0?15:M,U=d.units,Y=U===void 0?t.UNIT_SENTENCES:U,b=d.words,Z=b===void 0?u.WORDS:b,D=d.suffix,ee=D===void 0?"":D,re={random:h,sentencesPerParagraph:{max:p,min:a},words:Z,wordsPerSentence:{max:V,min:Q}},T=new o.default(re,n,ee);switch(Y){case t.UNIT_PARAGRAPHS:case t.UNIT_PARAGRAPH:return T.generateParagraphs(s);case t.UNIT_SENTENCES:case t.UNIT_SENTENCE:return T.generateSentences(s);case t.UNIT_WORDS:case t.UNIT_WORD:return T.generateWords(s);default:return""}};e.loremIpsum=_})(W);function fe(){return W.loremIpsum({count:1,units:"sentences",sentenceLowerBound:5,sentenceUpperBound:10})}function le(){const e={text:fe(),date:new Date().toISOString(),owner:"anotherUser"},r=JSON.parse(localStorage.getItem("users"))||[],t=Number(A("user")),u=r.findIndex(o=>o.id==t);r[u].messages.push(e),localStorage.setItem("users",JSON.stringify(r)),y(e)}P.SUBMIT_MESSAGE_BTN.addEventListener("click",e=>{e.preventDefault();const r=P.CHAT_INPUT.value;ae(r),P.CHAT_INPUT.value="",ne(P.CHAT_SECTION),setTimeout(()=>{le()},2500)});function me(e){const r=document.createElement("img"),t=document.createElement("div"),u=document.createElement("div"),o=document.createElement("div");r.classList.add("info-user-logo"),t.classList.add("info-user"),u.classList.add("info-user__fio"),o.classList.add("info-user__entrytime"),r.src=e.avatarUrl,u.textContent=e.name,o.textContent="В сети",t.append(u,o),P.HEADER_MIDDLE_BLOCK.append(r,t)}function ge(){const e=Number(A("user")),r=JSON.parse(localStorage.getItem("users"))||[];if(r.length>0){const t=r.find(u=>u.id===e);me(t),t.messages.forEach(u=>y(u))}}ge();
