import{a as te,b as A,s as ne}from"./helpers-C76g-LQL.js";const P={HEADER_MIDDLE_BLOCK:document.querySelector(".middle-block"),CHAT_SECTION:document.querySelector(".chat-section"),MESSAGES_LIST_EL:document.querySelector(".messages-list"),SUBMIT_MESSAGE_BTN:document.querySelector(".submit-btn"),CHAT_INPUT:document.querySelector(".form-input")};function y(e,n=null){const r=document.createElement("div"),u=document.createElement("span");e.owner==="me"?r.classList.add("message","own-message"):r.classList.add("message","another-persons-message"),n&&r.classList.add("newMessage"),u.classList.add("time-message"),r.textContent=`${e.text}`,u.textContent=`${te(e.date)}`,r.appendChild(u),P.MESSAGES_LIST_EL.appendChild(r)}function ae(e){if(e.trim()==="")return;const n={text:e,date:new Date().toISOString(),owner:"me"},r=JSON.parse(localStorage.getItem("users"))||[],u=Number(A("user")),o=r.findIndex(f=>f.id==u);r[o].messages.push(n),localStorage.setItem("users",JSON.stringify(r)),y(n,!0)}var W={},S={};Object.defineProperty(S,"__esModule",{value:!0});S.FORMAT_PLAIN=S.FORMAT_HTML=S.FORMATS=void 0;var k="html";S.FORMAT_HTML=k;var C="plain";S.FORMAT_PLAIN=C;var ie=[k,C];S.FORMATS=ie;var v={};Object.defineProperty(v,"__esModule",{value:!0});v.UNIT_WORDS=v.UNIT_WORD=v.UNIT_SENTENCES=v.UNIT_SENTENCE=v.UNIT_PARAGRAPHS=v.UNIT_PARAGRAPH=v.UNITS=void 0;var F="words";v.UNIT_WORDS=F;var x="word";v.UNIT_WORD=x;var B="sentences";v.UNIT_SENTENCES=B;var G="sentence";v.UNIT_SENTENCE=G;var H="paragraphs";v.UNIT_PARAGRAPHS=H;var $="paragraph";v.UNIT_PARAGRAPH=$;var ue=[F,x,B,G,H,$];v.UNITS=ue;var N={};Object.defineProperty(N,"__esModule",{value:!0});N.WORDS=void 0;var oe=["ad","adipisicing","aliqua","aliquip","amet","anim","aute","cillum","commodo","consectetur","consequat","culpa","cupidatat","deserunt","do","dolor","dolore","duis","ea","eiusmod","elit","enim","esse","est","et","eu","ex","excepteur","exercitation","fugiat","id","in","incididunt","ipsum","irure","labore","laboris","laborum","Lorem","magna","minim","mollit","nisi","non","nostrud","nulla","occaecat","officia","pariatur","proident","qui","quis","reprehenderit","sint","sit","sunt","tempor","ullamco","ut","velit","veniam","voluptate"];N.WORDS=oe;var q={},I={};Object.defineProperty(I,"__esModule",{value:!0});I.LINE_ENDINGS=void 0;var se={POSIX:`
`,WIN32:`\r
`};I.LINE_ENDINGS=se;var j={},w={},z={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=function(o){var f=o.trim();return f.charAt(0).toUpperCase()+f.slice(1)},r=n;e.default=r})(z);var E={exports:{}};(function(e,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=function(){return!!e.exports},u=r;n.default=u})(E,E.exports);var de=E.exports,J={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=function(){var o=!1;try{o=navigator.product==="ReactNative"}catch{o=!1}return o},r=n;e.default=r})(J);var X={},R={};Object.defineProperty(R,"__esModule",{value:!0});R.SUPPORTED_PLATFORMS=void 0;var ce={DARWIN:"darwin",LINUX:"linux",WIN32:"win32"};R.SUPPORTED_PLATFORMS=ce;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=R,r=function(){var f=!1;try{f=process.platform===n.SUPPORTED_PLATFORMS.WIN32}catch{f=!1}return f},u=r;e.default=u})(X);var L={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return Array.apply(null,Array(o)).map(function(f,_){return _})},r=n;e.default=r})(L);var K={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=r(L);function r(f){return f&&f.__esModule?f:{default:f}}var u=function(_,g){var d=(0,n.default)(_);return d.map(function(){return g()})},o=u;e.default=o})(K);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"capitalize",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(e,"isNode",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(e,"isReactNative",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(e,"isWindows",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(e,"makeArrayOfLength",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(e,"makeArrayOfStrings",{enumerable:!0,get:function(){return _.default}});var n=g(z),r=g(de),u=g(J),o=g(X),f=g(L),_=g(K);function g(d){return d&&d.__esModule?d:{default:d}}})(w);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=N,r=w;function u(m,s){if(!(m instanceof s))throw new TypeError("Cannot call a class as a function")}function o(m,s){for(var c=0;c<s.length;c++){var t=s[c];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(m,t.key,t)}}function f(m,s,c){return s&&o(m.prototype,s),Object.defineProperty(m,"prototype",{writable:!1}),m}function _(m,s,c){return s in m?Object.defineProperty(m,s,{value:c,enumerable:!0,configurable:!0,writable:!0}):m[s]=c,m}var g=function(){function m(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},c=s.sentencesPerParagraph,t=c===void 0?{max:7,min:3}:c,i=s.wordsPerSentence,a=i===void 0?{max:15,min:5}:i,l=s.random;s.seed;var p=s.words,h=p===void 0?n.WORDS:p;if(u(this,m),_(this,"sentencesPerParagraph",void 0),_(this,"wordsPerSentence",void 0),_(this,"random",void 0),_(this,"words",void 0),t.min>t.max)throw new Error("Minimum number of sentences per paragraph (".concat(t.min,") cannot exceed maximum (").concat(t.max,")."));if(a.min>a.max)throw new Error("Minimum number of words per sentence (".concat(a.min,") cannot exceed maximum (").concat(a.max,")."));this.sentencesPerParagraph=t,this.words=h,this.wordsPerSentence=a,this.random=l||Math.random}return f(m,[{key:"generateRandomInteger",value:function(c,t){return Math.floor(this.random()*(t-c+1)+c)}},{key:"generateRandomWords",value:function(c){var t=this,i=this.wordsPerSentence,a=i.min,l=i.max,p=c||this.generateRandomInteger(a,l);return(0,r.makeArrayOfLength)(p).reduce(function(h,O){return"".concat(t.pluckRandomWord()," ").concat(h)},"").trim()}},{key:"generateRandomSentence",value:function(c){return"".concat((0,r.capitalize)(this.generateRandomWords(c)),".")}},{key:"generateRandomParagraph",value:function(c){var t=this,i=this.sentencesPerParagraph,a=i.min,l=i.max,p=c||this.generateRandomInteger(a,l);return(0,r.makeArrayOfLength)(p).reduce(function(h,O){return"".concat(t.generateRandomSentence()," ").concat(h)},"").trim()}},{key:"pluckRandomWord",value:function(){var c=0,t=this.words.length-1,i=this.generateRandomInteger(c,t);return this.words[i]}}]),m}(),d=g;e.default=d})(j);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=S,r=I,u=f(j),o=w;function f(t){return t&&t.__esModule?t:{default:t}}function _(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}function g(t,i){for(var a=0;a<i.length;a++){var l=i[a];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function d(t,i,a){return i&&g(t.prototype,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function m(t,i,a){return i in t?Object.defineProperty(t,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[i]=a,t}var s=function(){function t(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:n.FORMAT_PLAIN,l=arguments.length>2?arguments[2]:void 0;if(_(this,t),this.format=a,this.suffix=l,m(this,"generator",void 0),n.FORMATS.indexOf(a.toLowerCase())===-1)throw new Error("".concat(a," is an invalid format. Please use ").concat(n.FORMATS.join(" or "),"."));this.generator=new u.default(i)}return d(t,[{key:"getLineEnding",value:function(){return this.suffix?this.suffix:!(0,o.isReactNative)()&&(0,o.isNode)()&&(0,o.isWindows)()?r.LINE_ENDINGS.WIN32:r.LINE_ENDINGS.POSIX}},{key:"formatString",value:function(a){return this.format===n.FORMAT_HTML?"<p>".concat(a,"</p>"):a}},{key:"formatStrings",value:function(a){var l=this;return a.map(function(p){return l.formatString(p)})}},{key:"generateWords",value:function(a){return this.formatString(this.generator.generateRandomWords(a))}},{key:"generateSentences",value:function(a){return this.formatString(this.generator.generateRandomParagraph(a))}},{key:"generateParagraphs",value:function(a){var l=this.generator.generateRandomParagraph.bind(this.generator);return this.formatStrings((0,o.makeArrayOfStrings)(a,l)).join(this.getLineEnding())}}]),t}(),c=s;e.default=c})(q);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"LoremIpsum",{enumerable:!0,get:function(){return o.default}}),e.loremIpsum=void 0;var n=S,r=v,u=N,o=f(q);function f(g){return g&&g.__esModule?g:{default:g}}var _=function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},m=d.count,s=m===void 0?1:m,c=d.format,t=c===void 0?n.FORMAT_PLAIN:c,i=d.paragraphLowerBound,a=i===void 0?3:i,l=d.paragraphUpperBound,p=l===void 0?7:l,h=d.random,O=d.sentenceLowerBound,Q=O===void 0?5:O,M=d.sentenceUpperBound,V=M===void 0?15:M,U=d.units,Y=U===void 0?r.UNIT_SENTENCES:U,b=d.words,Z=b===void 0?u.WORDS:b,D=d.suffix,ee=D===void 0?"":D,re={random:h,sentencesPerParagraph:{max:p,min:a},words:Z,wordsPerSentence:{max:V,min:Q}},T=new o.default(re,t,ee);switch(Y){case r.UNIT_PARAGRAPHS:case r.UNIT_PARAGRAPH:return T.generateParagraphs(s);case r.UNIT_SENTENCES:case r.UNIT_SENTENCE:return T.generateSentences(s);case r.UNIT_WORDS:case r.UNIT_WORD:return T.generateWords(s);default:return""}};e.loremIpsum=_})(W);function fe(){return W.loremIpsum({count:1,units:"sentences",sentenceLowerBound:5,sentenceUpperBound:10})}function le(){const e={text:fe(),date:new Date().toISOString(),owner:"anotherUser"},n=JSON.parse(localStorage.getItem("users"))||[],r=Number(A("user")),u=n.findIndex(o=>o.id==r);n[u].messages.push(e),localStorage.setItem("users",JSON.stringify(n)),y(e,!0)}P.SUBMIT_MESSAGE_BTN.addEventListener("click",e=>{e.preventDefault();const n=P.CHAT_INPUT.value;ae(n),P.CHAT_INPUT.value="",ne(P.CHAT_SECTION),setTimeout(()=>{le()},2500)});function me(e){const n=document.createElement("img"),r=document.createElement("div"),u=document.createElement("div"),o=document.createElement("div");n.classList.add("info-user-logo"),r.classList.add("info-user"),u.classList.add("info-user__fio"),o.classList.add("info-user__entrytime"),n.src=e.avatarUrl,u.textContent=e.name,o.textContent="В сети",r.append(u,o),P.HEADER_MIDDLE_BLOCK.append(n,r)}function ge(){const e=Number(A("user")),n=JSON.parse(localStorage.getItem("users"))||[];if(n.length>0){const r=n.find(u=>u.id===e);me(r),r.messages.forEach(u=>y(u))}}ge();
