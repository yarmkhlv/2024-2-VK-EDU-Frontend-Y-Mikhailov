(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))c(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&c(a)}).observe(document,{childList:!0,subtree:!0});function r(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function c(o){if(o.ep)return;o.ep=!0;const s=r(o);fetch(o.href,s)}})();const n={CHAT_SECTION:document.querySelector(".chat-section"),MESSAGES_LIST_EL:document.querySelector(".messages-list"),SUBMIT_MESSAGE_BTN:document.querySelector(".submit-btn"),CHAT_INPUT:document.querySelector(".form-input")};let l=[];function d(e){l=e}function i(){return l}function m(e){const t=new Date(e),r=Intl.DateTimeFormat().resolvedOptions().timeZone;return t.toLocaleTimeString("ru-RU",{hour:"2-digit",minute:"2-digit",timeZone:r})}function f(e){e&&(console.log(e),console.log(e.scrollTop,e.scrollHeight),e.scrollTop=e.scrollHeight)}function g(e){if(e.trim()==="")return;const t={text:e,date:new Date().toISOString(),owner:"Yaroslave"};i().push(t),localStorage.setItem("messages",JSON.stringify(i()))}function u(e){n.MESSAGES_LIST_EL.innerHTML="",e.forEach(t=>S(t))}function S(e){const t=document.createElement("div"),r=document.createElement("span");t.classList.add("message","own-message"),r.classList.add("time-message"),t.textContent=`${e.text}`,r.textContent=`${m(e.date)}`,t.appendChild(r),n.MESSAGES_LIST_EL.appendChild(t)}n.SUBMIT_MESSAGE_BTN.addEventListener("click",e=>{e.preventDefault();const t=n.CHAT_INPUT.value;g(t),u(i()),n.CHAT_INPUT.value="",f(n.CHAT_SECTION)});function T(){const e=JSON.parse(localStorage.getItem("messages"))||[];d(e),u(i())}T();
